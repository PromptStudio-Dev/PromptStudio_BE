[Full Context]
{fullContext}

[Selected Text]
{selectedText}

[Previous Direction]
{prevDirection}

[Previous Result]
{prevResult}

[Current Direction]
{direction}

The previous direction/result is for reference only. If it conflicts with the current direction, prioritize the current direction.

Upgrade the selected text according to the CURRENT improvement direction. Output only the upgraded text.